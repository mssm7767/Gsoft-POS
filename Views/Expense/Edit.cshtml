@model GSoftPosNew.Models.Expense
@{
    ViewData["Title"] = "Edit Expense";
    Layout = "~/Views/Shared/_Layout.cshtml";
    var categories = ViewBag.Categories as List<SelectListItem>;
}

<div class="container mt-4" style="max-width:700px;">
    <div class="card shadow">
        <div class="card-header bg-warning text-dark">
            <h5><i class="fa fa-edit"></i> Edit Expense</h5>
        </div>
        <div class="card-body">
            @if (TempData["Message"] != null)
            {
                <div class="alert alert-success text-center">
                    <i class="fa fa-check-circle"></i> @TempData["Message"]
                </div>
            }

            @using (Html.BeginForm("Edit", "Expense", FormMethod.Post))
            {
                @Html.AntiForgeryToken()
                @Html.HiddenFor(m => m.Id)

                <div class="mb-3">
                    @Html.LabelFor(m => m.ExpenseDate, new { @class = "form-label" })
                    @Html.TextBoxFor(m => m.ExpenseDate, "{0:yyyy-MM-dd}", new { @class = "form-control", type = "date" })
                    @Html.ValidationMessageFor(m => m.ExpenseDate, "", new { @class = "text-danger" })
                </div>

                <div class="mb-3">
                    @Html.LabelFor(m => m.ExpenseCategoryId, new { @class = "form-label" })
                    @Html.DropDownListFor(m => m.ExpenseCategoryId, categories, "-- Select Category --", new { @class = "form-select" })
                    @Html.ValidationMessageFor(m => m.ExpenseCategoryId, "", new { @class = "text-danger" })
                </div>

                <div class="mb-3">
                   @Html.LabelFor(m => m.ExpenseFor, new { @class = "form-label" })
                   @Html.TextBoxFor(m => m.ExpenseFor, new { @class = "form-control" })
                </div>

                <div class="mb-3">
                    @Html.LabelFor(m => m.Amount, new { @class = "form-label" })
                    @Html.TextBoxFor(m => m.Amount, new { @class = "form-control", type = "number", step = "0.01" })
                    @Html.ValidationMessageFor(m => m.Amount, "", new { @class = "text-danger" })
                </div>

                <div class="mb-3">
                    @Html.LabelFor(m => m.ReferenceNumber, new { @class = "form-label" })
                    @Html.TextBoxFor(m => m.ReferenceNumber, new { @class = "form-control" })
                </div>

                <div class="mb-3">
                    @Html.LabelFor(m => m.Note, new { @class = "form-label" })
                    @Html.TextAreaFor(m => m.Note, new { @class = "form-control", rows = 2 })
                </div>

                <div class="text-end">
                    <button type="submit" class="btn btn-primary me-2">
                        <i class="fa fa-save"></i> Update
                    </button>
                    <a href="@Url.Action("Index", "Expense")" class="btn btn-secondary">
                        <i class="fa fa-times"></i> Cancel
                    </a>
                </div>
            }
        </div>
    </div>
</div>
